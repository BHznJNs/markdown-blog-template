import{i as t,b as e,d as n,c as o,p as s,e as i,k as a}from"../index.min.js";import{t as l}from"./throttle.min.js";import"../../build.config.js";function d({level:t,content:n,id:o}){const s=e("span",n,{class:"underline-target"}),i=e("li",s,{class:["level-"+t,"underline-through"].join(" "),tabindex:0,"data-target-headline":o});return i.onkeydown=a(i),i}const c=document.getElementById("article-container");class r extends HTMLElement{rootNode=null;constructor(){super(),t("./dist/chunks/catalog.min.css"),this.rootNode=e("ol"),this.appendChild(this.rootNode),this.#t()}#e(){const t=this.getBoundingClientRect(),{top:e,bottom:n}=t,o=e<=2,s=window.innerHeight-n<=2;this.classList.toggle("top-stuck",o),this.classList.toggle("bottom-stuck",s)}#t(){const t=this.#e.bind(this);"onscrollend"in window?window.addEventListener("scrollend",t):window.addEventListener("scroll",n(t,300)),this.rootNode.addEventListener("click",l((t=>{const e=t.target.getAttribute("data-target-headline");if(!e)return;const n=document.getElementById(e);o(n,16)}),200)),window.addEventListener("hashchange",(()=>{s.isIn.article()||c.classList.remove("with-catalog")})),i.on("catalog-toggle",(()=>{c.classList.toggle("with-catalog")&&this.#e()})),i.on("article-rendered",this.render.bind(this))}async render(t){const e=document.createDocumentFragment();t.map(d).forEach((t=>e.appendChild(t))),this.rootNode.innerHTML="",this.rootNode.appendChild(e)}}customElements.define("article-catalog",r);
//# sourceMappingURL=catalog.min.js.map
