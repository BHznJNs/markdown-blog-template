import s from"../build.config.js";let e=null;async function t(s){return e&&e.abort(),e=new AbortController,await fetch(s,{signal:e.signal}).then((async s=>{const t=await s.json();return e=null,t})).catch((e=>(console.log("JSON request error: "+s),console.error(e),null)))}const i=s.language,a=["zh","en"];const n=function(s){for(const[e,t]of Object.entries(a))if(s===t)return(...s)=>s[e];return console.warn("Unexpected language: "+s),(...s)=>s[1]}(i);class l extends Error{constructor(s){super(),this.message=`"${s}" is a abstract method that should be overrided.`}}class r{static loadErrMsg=n("加载失败","load error");static renderErrMsg=n("渲染失败","render error");name="";_module=null;_targetElList=null;async importModule(s){throw new l("importModule")}async beforeRender(s){}loadCondition(s){throw new l("loadCondition")}renderItem(s){throw new l("renderItem")}renderAll(s){for(const s of this._targetElList())try{this.renderItem(s)}catch(e){this.renderErrResolver(e,s)}}loadErrResolver(s){console.error(s),this._targetElList().forEach((s=>s.textContent=this.name+" "+r.loadErrMsg))}renderErrResolver(s,e){console.error(s),e.textContent=this.name+" "+r.renderErrMsg}async render(s){if(this.loadCondition(s)){if(null===this._module)try{this._module=await this.importModule(s)}catch(s){return void this.loadErrResolver(s)}await this.beforeRender(s),this.renderAll(s)}}}function g(s){return new Promise(((e,t)=>{const i=document.createElement("link");i.rel="stylesheet",i.href=s,document.head.appendChild(i),i.onload=e,i.onerror=t}))}const h=new class extends r{name="Highlight.js";_targetElList=()=>document.querySelectorAll("pre.code-block code");async#s(s=[]){const e=s.filter((s=>!this._module.getLanguage(s))).map((s=>function(s){switch(s){case"../../libs/highlight-es/languages/1c.js":return import("./libs/highlight-es/languages/1c.js");case"../../libs/highlight-es/languages/abnf.js":return import("./libs/highlight-es/languages/abnf.js");case"../../libs/highlight-es/languages/accesslog.js":return import("./libs/highlight-es/languages/accesslog.js");case"../../libs/highlight-es/languages/actionscript.js":return import("./libs/highlight-es/languages/actionscript.js");case"../../libs/highlight-es/languages/ada.js":return import("./libs/highlight-es/languages/ada.js");case"../../libs/highlight-es/languages/angelscript.js":return import("./libs/highlight-es/languages/angelscript.js");case"../../libs/highlight-es/languages/apache.js":return import("./libs/highlight-es/languages/apache.js");case"../../libs/highlight-es/languages/applescript.js":return import("./libs/highlight-es/languages/applescript.js");case"../../libs/highlight-es/languages/arcade.js":return import("./libs/highlight-es/languages/arcade.js");case"../../libs/highlight-es/languages/arduino.js":return import("./libs/highlight-es/languages/arduino.js");case"../../libs/highlight-es/languages/armasm.js":return import("./libs/highlight-es/languages/armasm.js");case"../../libs/highlight-es/languages/asciidoc.js":return import("./libs/highlight-es/languages/asciidoc.js");case"../../libs/highlight-es/languages/aspectj.js":return import("./libs/highlight-es/languages/aspectj.js");case"../../libs/highlight-es/languages/autohotkey.js":return import("./libs/highlight-es/languages/autohotkey.js");case"../../libs/highlight-es/languages/autoit.js":return import("./libs/highlight-es/languages/autoit.js");case"../../libs/highlight-es/languages/avrasm.js":return import("./libs/highlight-es/languages/avrasm.js");case"../../libs/highlight-es/languages/awk.js":return import("./libs/highlight-es/languages/awk.js");case"../../libs/highlight-es/languages/axapta.js":return import("./libs/highlight-es/languages/axapta.js");case"../../libs/highlight-es/languages/bash.js":return import("./libs/highlight-es/languages/bash.js");case"../../libs/highlight-es/languages/basic.js":return import("./libs/highlight-es/languages/basic.js");case"../../libs/highlight-es/languages/bnf.js":return import("./libs/highlight-es/languages/bnf.js");case"../../libs/highlight-es/languages/brainfuck.js":return import("./libs/highlight-es/languages/brainfuck.js");case"../../libs/highlight-es/languages/c.js":return import("./libs/highlight-es/languages/c.js");case"../../libs/highlight-es/languages/cal.js":return import("./libs/highlight-es/languages/cal.js");case"../../libs/highlight-es/languages/capnproto.js":return import("./libs/highlight-es/languages/capnproto.js");case"../../libs/highlight-es/languages/ceylon.js":return import("./libs/highlight-es/languages/ceylon.js");case"../../libs/highlight-es/languages/clean.js":return import("./libs/highlight-es/languages/clean.js");case"../../libs/highlight-es/languages/clojure-repl.js":return import("./libs/highlight-es/languages/clojure-repl.js");case"../../libs/highlight-es/languages/clojure.js":return import("./libs/highlight-es/languages/clojure.js");case"../../libs/highlight-es/languages/cmake.js":return import("./libs/highlight-es/languages/cmake.js");case"../../libs/highlight-es/languages/coffeescript.js":return import("./libs/highlight-es/languages/coffeescript.js");case"../../libs/highlight-es/languages/coq.js":return import("./libs/highlight-es/languages/coq.js");case"../../libs/highlight-es/languages/cos.js":return import("./libs/highlight-es/languages/cos.js");case"../../libs/highlight-es/languages/cpp.js":return import("./libs/highlight-es/languages/cpp.js");case"../../libs/highlight-es/languages/crmsh.js":return import("./libs/highlight-es/languages/crmsh.js");case"../../libs/highlight-es/languages/crystal.js":return import("./libs/highlight-es/languages/crystal.js");case"../../libs/highlight-es/languages/csharp.js":return import("./libs/highlight-es/languages/csharp.js");case"../../libs/highlight-es/languages/csp.js":return import("./libs/highlight-es/languages/csp.js");case"../../libs/highlight-es/languages/css.js":return import("./libs/highlight-es/languages/css.js");case"../../libs/highlight-es/languages/d.js":return import("./libs/highlight-es/languages/d.js");case"../../libs/highlight-es/languages/dart.js":return import("./libs/highlight-es/languages/dart.js");case"../../libs/highlight-es/languages/delphi.js":return import("./libs/highlight-es/languages/delphi.js");case"../../libs/highlight-es/languages/diff.js":return import("./libs/highlight-es/languages/diff.js");case"../../libs/highlight-es/languages/django.js":return import("./libs/highlight-es/languages/django.js");case"../../libs/highlight-es/languages/dns.js":return import("./libs/highlight-es/languages/dns.js");case"../../libs/highlight-es/languages/dockerfile.js":return import("./libs/highlight-es/languages/dockerfile.js");case"../../libs/highlight-es/languages/dos.js":return import("./libs/highlight-es/languages/dos.js");case"../../libs/highlight-es/languages/dsconfig.js":return import("./libs/highlight-es/languages/dsconfig.js");case"../../libs/highlight-es/languages/dts.js":return import("./libs/highlight-es/languages/dts.js");case"../../libs/highlight-es/languages/dust.js":return import("./libs/highlight-es/languages/dust.js");case"../../libs/highlight-es/languages/ebnf.js":return import("./libs/highlight-es/languages/ebnf.js");case"../../libs/highlight-es/languages/elixir.js":return import("./libs/highlight-es/languages/elixir.js");case"../../libs/highlight-es/languages/elm.js":return import("./libs/highlight-es/languages/elm.js");case"../../libs/highlight-es/languages/erb.js":return import("./libs/highlight-es/languages/erb.js");case"../../libs/highlight-es/languages/erlang-repl.js":return import("./libs/highlight-es/languages/erlang-repl.js");case"../../libs/highlight-es/languages/erlang.js":return import("./libs/highlight-es/languages/erlang.js");case"../../libs/highlight-es/languages/excel.js":return import("./libs/highlight-es/languages/excel.js");case"../../libs/highlight-es/languages/fix.js":return import("./libs/highlight-es/languages/fix.js");case"../../libs/highlight-es/languages/flix.js":return import("./libs/highlight-es/languages/flix.js");case"../../libs/highlight-es/languages/fortran.js":return import("./libs/highlight-es/languages/fortran.js");case"../../libs/highlight-es/languages/fsharp.js":return import("./libs/highlight-es/languages/fsharp.js");case"../../libs/highlight-es/languages/gams.js":return import("./libs/highlight-es/languages/gams.js");case"../../libs/highlight-es/languages/gauss.js":return import("./libs/highlight-es/languages/gauss.js");case"../../libs/highlight-es/languages/gcode.js":return import("./libs/highlight-es/languages/gcode.js");case"../../libs/highlight-es/languages/gherkin.js":return import("./libs/highlight-es/languages/gherkin.js");case"../../libs/highlight-es/languages/glsl.js":return import("./libs/highlight-es/languages/glsl.js");case"../../libs/highlight-es/languages/gml.js":return import("./libs/highlight-es/languages/gml.js");case"../../libs/highlight-es/languages/go.js":return import("./libs/highlight-es/languages/go.js");case"../../libs/highlight-es/languages/golo.js":return import("./libs/highlight-es/languages/golo.js");case"../../libs/highlight-es/languages/gradle.js":return import("./libs/highlight-es/languages/gradle.js");case"../../libs/highlight-es/languages/graphql.js":return import("./libs/highlight-es/languages/graphql.js");case"../../libs/highlight-es/languages/groovy.js":return import("./libs/highlight-es/languages/groovy.js");case"../../libs/highlight-es/languages/haml.js":return import("./libs/highlight-es/languages/haml.js");case"../../libs/highlight-es/languages/handlebars.js":return import("./libs/highlight-es/languages/handlebars.js");case"../../libs/highlight-es/languages/haskell.js":return import("./libs/highlight-es/languages/haskell.js");case"../../libs/highlight-es/languages/haxe.js":return import("./libs/highlight-es/languages/haxe.js");case"../../libs/highlight-es/languages/hsp.js":return import("./libs/highlight-es/languages/hsp.js");case"../../libs/highlight-es/languages/http.js":return import("./libs/highlight-es/languages/http.js");case"../../libs/highlight-es/languages/hy.js":return import("./libs/highlight-es/languages/hy.js");case"../../libs/highlight-es/languages/inform7.js":return import("./libs/highlight-es/languages/inform7.js");case"../../libs/highlight-es/languages/ini.js":return import("./libs/highlight-es/languages/ini.js");case"../../libs/highlight-es/languages/irpf90.js":return import("./libs/highlight-es/languages/irpf90.js");case"../../libs/highlight-es/languages/isbl.js":return import("./libs/highlight-es/languages/isbl.js");case"../../libs/highlight-es/languages/java.js":return import("./libs/highlight-es/languages/java.js");case"../../libs/highlight-es/languages/javascript.js":return import("./libs/highlight-es/languages/javascript.js");case"../../libs/highlight-es/languages/jboss-cli.js":return import("./libs/highlight-es/languages/jboss-cli.js");case"../../libs/highlight-es/languages/json.js":return import("./libs/highlight-es/languages/json.js");case"../../libs/highlight-es/languages/julia-repl.js":return import("./libs/highlight-es/languages/julia-repl.js");case"../../libs/highlight-es/languages/julia.js":return import("./libs/highlight-es/languages/julia.js");case"../../libs/highlight-es/languages/kotlin.js":return import("./libs/highlight-es/languages/kotlin.js");case"../../libs/highlight-es/languages/lasso.js":return import("./libs/highlight-es/languages/lasso.js");case"../../libs/highlight-es/languages/latex.js":return import("./libs/highlight-es/languages/latex.js");case"../../libs/highlight-es/languages/ldif.js":return import("./libs/highlight-es/languages/ldif.js");case"../../libs/highlight-es/languages/leaf.js":return import("./libs/highlight-es/languages/leaf.js");case"../../libs/highlight-es/languages/less.js":return import("./libs/highlight-es/languages/less.js");case"../../libs/highlight-es/languages/lisp.js":return import("./libs/highlight-es/languages/lisp.js");case"../../libs/highlight-es/languages/livecodeserver.js":return import("./libs/highlight-es/languages/livecodeserver.js");case"../../libs/highlight-es/languages/livescript.js":return import("./libs/highlight-es/languages/livescript.js");case"../../libs/highlight-es/languages/llvm.js":return import("./libs/highlight-es/languages/llvm.js");case"../../libs/highlight-es/languages/lsl.js":return import("./libs/highlight-es/languages/lsl.js");case"../../libs/highlight-es/languages/lua.js":return import("./libs/highlight-es/languages/lua.js");case"../../libs/highlight-es/languages/makefile.js":return import("./libs/highlight-es/languages/makefile.js");case"../../libs/highlight-es/languages/markdown.js":return import("./libs/highlight-es/languages/markdown.js");case"../../libs/highlight-es/languages/mathematica.js":return import("./libs/highlight-es/languages/mathematica.js");case"../../libs/highlight-es/languages/matlab.js":return import("./libs/highlight-es/languages/matlab.js");case"../../libs/highlight-es/languages/maxima.js":return import("./libs/highlight-es/languages/maxima.js");case"../../libs/highlight-es/languages/mel.js":return import("./libs/highlight-es/languages/mel.js");case"../../libs/highlight-es/languages/mercury.js":return import("./libs/highlight-es/languages/mercury.js");case"../../libs/highlight-es/languages/mipsasm.js":return import("./libs/highlight-es/languages/mipsasm.js");case"../../libs/highlight-es/languages/mizar.js":return import("./libs/highlight-es/languages/mizar.js");case"../../libs/highlight-es/languages/mojolicious.js":return import("./libs/highlight-es/languages/mojolicious.js");case"../../libs/highlight-es/languages/monkey.js":return import("./libs/highlight-es/languages/monkey.js");case"../../libs/highlight-es/languages/moonscript.js":return import("./libs/highlight-es/languages/moonscript.js");case"../../libs/highlight-es/languages/n1ql.js":return import("./libs/highlight-es/languages/n1ql.js");case"../../libs/highlight-es/languages/nestedtext.js":return import("./libs/highlight-es/languages/nestedtext.js");case"../../libs/highlight-es/languages/nginx.js":return import("./libs/highlight-es/languages/nginx.js");case"../../libs/highlight-es/languages/nim.js":return import("./libs/highlight-es/languages/nim.js");case"../../libs/highlight-es/languages/nix.js":return import("./libs/highlight-es/languages/nix.js");case"../../libs/highlight-es/languages/node-repl.js":return import("./libs/highlight-es/languages/node-repl.js");case"../../libs/highlight-es/languages/nsis.js":return import("./libs/highlight-es/languages/nsis.js");case"../../libs/highlight-es/languages/objectivec.js":return import("./libs/highlight-es/languages/objectivec.js");case"../../libs/highlight-es/languages/ocaml.js":return import("./libs/highlight-es/languages/ocaml.js");case"../../libs/highlight-es/languages/openscad.js":return import("./libs/highlight-es/languages/openscad.js");case"../../libs/highlight-es/languages/oxygene.js":return import("./libs/highlight-es/languages/oxygene.js");case"../../libs/highlight-es/languages/parser3.js":return import("./libs/highlight-es/languages/parser3.js");case"../../libs/highlight-es/languages/perl.js":return import("./libs/highlight-es/languages/perl.js");case"../../libs/highlight-es/languages/pf.js":return import("./libs/highlight-es/languages/pf.js");case"../../libs/highlight-es/languages/pgsql.js":return import("./libs/highlight-es/languages/pgsql.js");case"../../libs/highlight-es/languages/php-template.js":return import("./libs/highlight-es/languages/php-template.js");case"../../libs/highlight-es/languages/php.js":return import("./libs/highlight-es/languages/php.js");case"../../libs/highlight-es/languages/plaintext.js":return import("./libs/highlight-es/languages/plaintext.js");case"../../libs/highlight-es/languages/pony.js":return import("./libs/highlight-es/languages/pony.js");case"../../libs/highlight-es/languages/powershell.js":return import("./libs/highlight-es/languages/powershell.js");case"../../libs/highlight-es/languages/processing.js":return import("./libs/highlight-es/languages/processing.js");case"../../libs/highlight-es/languages/profile.js":return import("./libs/highlight-es/languages/profile.js");case"../../libs/highlight-es/languages/prolog.js":return import("./libs/highlight-es/languages/prolog.js");case"../../libs/highlight-es/languages/properties.js":return import("./libs/highlight-es/languages/properties.js");case"../../libs/highlight-es/languages/protobuf.js":return import("./libs/highlight-es/languages/protobuf.js");case"../../libs/highlight-es/languages/puppet.js":return import("./libs/highlight-es/languages/puppet.js");case"../../libs/highlight-es/languages/purebasic.js":return import("./libs/highlight-es/languages/purebasic.js");case"../../libs/highlight-es/languages/python-repl.js":return import("./libs/highlight-es/languages/python-repl.js");case"../../libs/highlight-es/languages/python.js":return import("./libs/highlight-es/languages/python.js");case"../../libs/highlight-es/languages/q.js":return import("./libs/highlight-es/languages/q.js");case"../../libs/highlight-es/languages/qml.js":return import("./libs/highlight-es/languages/qml.js");case"../../libs/highlight-es/languages/r.js":return import("./libs/highlight-es/languages/r.js");case"../../libs/highlight-es/languages/reasonml.js":return import("./libs/highlight-es/languages/reasonml.js");case"../../libs/highlight-es/languages/rib.js":return import("./libs/highlight-es/languages/rib.js");case"../../libs/highlight-es/languages/roboconf.js":return import("./libs/highlight-es/languages/roboconf.js");case"../../libs/highlight-es/languages/routeros.js":return import("./libs/highlight-es/languages/routeros.js");case"../../libs/highlight-es/languages/rsl.js":return import("./libs/highlight-es/languages/rsl.js");case"../../libs/highlight-es/languages/ruby.js":return import("./libs/highlight-es/languages/ruby.js");case"../../libs/highlight-es/languages/ruleslanguage.js":return import("./libs/highlight-es/languages/ruleslanguage.js");case"../../libs/highlight-es/languages/rust.js":return import("./libs/highlight-es/languages/rust.js");case"../../libs/highlight-es/languages/sas.js":return import("./libs/highlight-es/languages/sas.js");case"../../libs/highlight-es/languages/scala.js":return import("./libs/highlight-es/languages/scala.js");case"../../libs/highlight-es/languages/scheme.js":return import("./libs/highlight-es/languages/scheme.js");case"../../libs/highlight-es/languages/scilab.js":return import("./libs/highlight-es/languages/scilab.js");case"../../libs/highlight-es/languages/scss.js":return import("./libs/highlight-es/languages/scss.js");case"../../libs/highlight-es/languages/shell.js":return import("./libs/highlight-es/languages/shell.js");case"../../libs/highlight-es/languages/smali.js":return import("./libs/highlight-es/languages/smali.js");case"../../libs/highlight-es/languages/smalltalk.js":return import("./libs/highlight-es/languages/smalltalk.js");case"../../libs/highlight-es/languages/sml.js":return import("./libs/highlight-es/languages/sml.js");case"../../libs/highlight-es/languages/sqf.js":return import("./libs/highlight-es/languages/sqf.js");case"../../libs/highlight-es/languages/sql.js":return import("./libs/highlight-es/languages/sql.js");case"../../libs/highlight-es/languages/stan.js":return import("./libs/highlight-es/languages/stan.js");case"../../libs/highlight-es/languages/stata.js":return import("./libs/highlight-es/languages/stata.js");case"../../libs/highlight-es/languages/step21.js":return import("./libs/highlight-es/languages/step21.js");case"../../libs/highlight-es/languages/stylus.js":return import("./libs/highlight-es/languages/stylus.js");case"../../libs/highlight-es/languages/subunit.js":return import("./libs/highlight-es/languages/subunit.js");case"../../libs/highlight-es/languages/swift.js":return import("./libs/highlight-es/languages/swift.js");case"../../libs/highlight-es/languages/taggerscript.js":return import("./libs/highlight-es/languages/taggerscript.js");case"../../libs/highlight-es/languages/tap.js":return import("./libs/highlight-es/languages/tap.js");case"../../libs/highlight-es/languages/tcl.js":return import("./libs/highlight-es/languages/tcl.js");case"../../libs/highlight-es/languages/thrift.js":return import("./libs/highlight-es/languages/thrift.js");case"../../libs/highlight-es/languages/toml.js":return import("./libs/highlight-es/languages/toml.js");case"../../libs/highlight-es/languages/tp.js":return import("./libs/highlight-es/languages/tp.js");case"../../libs/highlight-es/languages/twig.js":return import("./libs/highlight-es/languages/twig.js");case"../../libs/highlight-es/languages/typescript.js":return import("./libs/highlight-es/languages/typescript.js");case"../../libs/highlight-es/languages/vala.js":return import("./libs/highlight-es/languages/vala.js");case"../../libs/highlight-es/languages/vbnet.js":return import("./libs/highlight-es/languages/vbnet.js");case"../../libs/highlight-es/languages/vbscript-html.js":return import("./libs/highlight-es/languages/vbscript-html.js");case"../../libs/highlight-es/languages/vbscript.js":return import("./libs/highlight-es/languages/vbscript.js");case"../../libs/highlight-es/languages/verilog.js":return import("./libs/highlight-es/languages/verilog.js");case"../../libs/highlight-es/languages/vhdl.js":return import("./libs/highlight-es/languages/vhdl.js");case"../../libs/highlight-es/languages/vim.js":return import("./libs/highlight-es/languages/vim.js");case"../../libs/highlight-es/languages/wasm.js":return import("./libs/highlight-es/languages/wasm.js");case"../../libs/highlight-es/languages/wren.js":return import("./libs/highlight-es/languages/wren.js");case"../../libs/highlight-es/languages/x86asm.js":return import("./libs/highlight-es/languages/x86asm.js");case"../../libs/highlight-es/languages/xl.js":return import("./libs/highlight-es/languages/xl.js");case"../../libs/highlight-es/languages/xml.js":return import("./libs/highlight-es/languages/xml.js");case"../../libs/highlight-es/languages/xquery.js":return import("./libs/highlight-es/languages/xquery.js");case"../../libs/highlight-es/languages/yaml.js":return import("./libs/highlight-es/languages/yaml.js");case"../../libs/highlight-es/languages/zephir.js":return import("./libs/highlight-es/languages/zephir.js");default:return new Promise((function(e,t){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+s)))}))}}(`../../libs/highlight-es/languages/${s.toLowerCase()}.js`)));await Promise.all(e).then((e=>e.forEach(((e,t)=>{const i=s[t],a=e.default;this._module.registerLanguage(i,a)})))).catch(this.loadErrResolver)}loadCondition(s){return s.size>0}renderItem(s){this._module.highlightElement(s)}async beforeRender(s=new Set){await this.#s(Array.from(s))}async importModule(){g("./dist/libs/highlight-es/github-dark.css");return(await import("./libs/highlight-es/highlight.min.js")).default}};var o=h.render.bind(h);const{katexOptions:c}=s;const u=new class extends r{name="KaTeX";_targetElList=()=>document.querySelectorAll(".math");loadCondition(s){return s}renderErrResolver(s,e){const t=e.textContent;s instanceof this._module.ParseError?e.innerHTML=("Error in LaTeX '"+t+"': "+s.message).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):(e.textContent=this.name+" "+r.renderErrMsg,console.error(s))}renderItem(s){const e=s.textContent;this._module.render(e,s,c)}async importModule(){g("./dist/libs/katex/katex.min.css");return(await import("./libs/katex/katex.min.js")).default}};var p=u.render.bind(u);const d=new class{events=new Map;emit(s,...e){const t=this.events.get(s);t&&t.forEach((s=>{s.apply(null,e)}))}on(s,e){const t=this.events.get(s);t?t.push(e):this.events.set(s,[e])}off(s,e){const t=this.events.get(s);if(t)if(1===t.length)this.events.delete(s);else{const s=t.indexOf(e);t.splice(s,1)}}};function b(s={},e={}){for(const t of Object.keys(e))t in s?"object"==typeof s[t]&&b(s[t],e[t]):s[t]=e[t];return s}class m extends r{static loadErrMsg=n("图表加载失败","Chart load error");static renderErrMsg=n("图表渲染失败","Chart render error");name=void 0;loadCondition(){return!0}loadErrResolver(s){console.error(s),this._targetElList().forEach((s=>s.textContent=m.loadErrMsg))}renderErrResolver(s,e){console.error(s),e.textContent=m.renderErrMsg}renderItem(s,e){throw new l("renderItem")}renderAll(){for(const s of this._targetElList()){const e=s.__ChartContent__;try{this.renderItem(s,e)}catch(e){this.renderErrResolver(e,s)}}}}let[j,f,w]=[null,null,null];const y=s.echartsOptions;function _(s={},e){const t=["color","backgroundColor","darkMode","textStyle","aria","axisPointer","animation","animationThreshold","animationDuration","animationEasing","animationDelay","animationDurationUpdate","animationEasingUpdate","animationDelayUpdate","stateAnimation","blendMode","hoverLayerThreshold","options","useUTC","media"];for(const i in s)if(!t.includes(i))if("series"!==i){switch(i){case"xAxis":case"yAxis":e.components.add("grid");continue;case"radiusAxis":case"angleAxis":e.components.add("polar");continue;case"parallelAxis":e.components.add("parallel");continue}e.components.add(i)}else for(const t of s.series)"type"in t&&e.charts.add(t.type)}const v=new class extends m{_targetElList=()=>document.querySelectorAll(".echarts-container");#e=new MutationObserver((s=>{for(const s of this._targetElList())this._module.dispose(s),this.renderItem(s)}));#t(){this._targetElList().forEach((s=>j.getInstanceByDom(s).resize()))}renderItem(s){const e=document.body.classList.contains("dark")?"another-dark":"light",t=this._module.init(s,e),i=s.__ChartOptions__,a=b({},y),n=b(a,i);t.setOption(n)}async beforeRender(){const s=Array.from(this._targetElList()).map((s=>s.__ChartOptions__));try{await async function(s){const e={charts:new Set,components:new Set};_(y,e),s.forEach((s=>_(s,e)));const t=Array.from(e.charts).map(f),i=Array.from(e.components).map(w);await Promise.all(t.concat(i)).then(j.use)}(s)}catch(s){this.loadErrResolver(s)}}async importModule(){const[s,e]=await Promise.all([import("./libs/echarts/core.js"),import("./chunks/echartsAnotherDarkTheme.min.js")]);j=s.default,f=s.importChart,w=s.importComponent,j.registerTheme("another-dark",e.default);const t=document.body;return this.#e.observe(t,{attributes:!0,attributeFilter:["class"]}),d.on("catalog-toggle",(()=>{setTimeout(this.#t.bind(this),1e3)})),window.addEventListener("resize",function(s,e){let t=null;return function(...i){t&&clearTimeout(t),t=setTimeout((()=>s(...i)),e)}}(this.#t.bind(this),200)),j}};var L=v.render.bind(v);function x(s,e){const t=document.createElement("script");return t.src=s,t.type="text/javascript",document.head.appendChild(t),new Promise(((i,a)=>{t.onload=function(){if(!(e in globalThis)){const s=`Module ${e} does not support this import method.`;console.error(s),a(s)}const s=globalThis[e];globalThis[e]=void 0,i(s)},t.onerror=function(t){console.error(`Error loading dynamically imported module "${e}": ${s}`),a(t)}}))}globalThis.raphael=null;const{flowchartOptions:T}=s;const k=new class extends m{_targetElList=()=>document.querySelectorAll(".flowchart-container");constructor(){super()}renderItem(s,e){this._module.parse(e).drawSVG(s,T)}async importModule(){globalThis.raphael=await x("./dist/libs/flowchart.js/raphael.min.js","raphael");return await x("./dist/libs/flowchart.js/flowchart.min.js","flowchart")}};var C=k.render.bind(k);const E=new class extends m{_targetElList=()=>document.querySelectorAll(".sequencechart-container");constructor(){super()}renderItem(s,e){const t=new this._module(e);s.appendChild(t.dom())}async importModule(){return(await import("./libs/sequence-diagram/sequence-diagram-web.mjs")).SequenceDiagram}};var M=E.render.bind(E);const{language:q,ganttOptions:S}=s;"language"in S||(S.language=q);const H=new class extends m{_targetElList=()=>document.querySelectorAll(".ganttchart-container");renderItem(s,e){new this._module(s,e,S)}async importModule(){g("./dist/libs/frappe-gantt/frappe-gantt.min.css");return(await import("./libs/frappe-gantt/frappe-gantt.min.js")).default}};var A=H.render.bind(H);const{railroadOptions:I}=s;const O=new class extends m{_targetElList=()=>document.querySelectorAll(".railroad-container");renderItem(s,e){const t=this._module.concat(s);new Function("Diagram","ComplexDiagram","Sequence","Stack","OptionalSequence","AlternatingSequence","Choice","HorizontalChoice","MultipleChoice","Optional","OneOrMore","ZeroOrMore","Group","Start","End","Terminal","NonTerminal","Comment","Skip","Block","targetElement",e+".addTo(targetElement)").apply(null,t)}async importModule(){g("./dist/libs/railroad-diagrams/railroad.css");const s=await import("./libs/railroad-diagrams/railroad.min.js"),{default:e,Options:t}=s;return Object.assign(t,{VS:I.verticalGap,AR:I.arcRadius,INTERNAL_ALIGNMENT:I.internalAlignment,CHAR_WIDTH:I.charWidth,COMMENT_CHAR_WIDTH:I.commentCharWidth}),[e.Diagram,e.ComplexDiagram,e.Sequence,e.Stack,e.OptionalSequence,e.AlternatingSequence,e.Choice,e.HorizontalChoice,e.MultipleChoice,e.Optional,e.OneOrMore,e.ZeroOrMore,e.Group,e.Start,e.End,e.Terminal,e.NonTerminal,e.Comment,e.Skip,e.Block]}};var R=O.render.bind(O);const{qrcodeOptions:N}=s;const P=new class extends m{_targetElList=()=>document.querySelectorAll(".qrcode-container");#e=new MutationObserver(this.renderAll.bind(this));renderItem(s){const e=getComputedStyle(document.body),t=e.getPropertyValue("--default-tx-color"),i=e.getPropertyValue("--chart-bg-color"),a=Object.assign({},N),n=s.__QRCodeContent__,l=a.width||256;a.color=t,a.background=i,a.content=n||a.content||(()=>{throw new Error("No QRCode content provided.")})();const r=new this._module(a);s.style.width=l+"px",s.innerHTML=r.svg()}async importModule(){const s=await x("./dist/libs/qrcode-svg/qrcode.min.js","QRCode"),e=document.body;return this.#e.observe(e,{attributes:!0,attributeFilter:["class"]}),s}};var $=P.render.bind(P);const W=new Map([["echarts",L],["flow-chart",C],["sequence-chart",M],["gantt-chart",A],["railroad-chart",R],["qrcode",$]]);async function z(s=new Set){for(const e of s){if(!W.has(e)){console.error("Unknown chart type: "+e);continue}const s=W.get(e);await s()}}function D(s){return Object.entries(s).filter((([s,e])=>null!=e)).map((([s,e])=>`${s}="${(s=>s.toString().replaceAll('"',"&quot;"))(e)}"`)).join(" ")}function G(s,e="",t=null){if("document"in globalThis){if("text"===s)return document.createTextNode(e);const i=document.createElement(s);return function(s,e){if(e)for(const[t,i]of Object.entries(e))void 0!==i&&(i instanceof Function?s[t]=i:s.setAttribute(t,i))}(i,t),function(s,e){if(e instanceof Array)for(const t of e)s.appendChild(t);else if(e instanceof HTMLElement)s.appendChild(e);else{if("string"!=typeof e)throw Error("Unexpected element content: "+e);s.textContent=e}}(i,e),i}switch(e instanceof Array&&(e=e.join("")),s){case"text":return e;case"hr":case"br":return`<${s}>`;case"img":case"input":return`<${s} ${t?D(t):""}>`}return`<${s}${t?" "+D(t):""}>${e}</${s}>`}function U(s,e,t=!1){if(!s.includes(e))return null;let i="",a=!1;for(;s.length;){const n=s.slice(0,1);if(s=s.substr(1),"\\"!==n||(a=!a,t)){if(n===e&&!a)break;i+=n,a=!1}}return i}const B=new Map([["#","strong"],["`","code"],["_","u"],["/","i"],["-","del"],[":","span.dim"],[",","sub"],["'","sup"],["$","span.math"]]),F=new Map([["[","]"],["{","}"]]);let Q=null;if("undefined"==typeof window){const s=await import("../builder/utils/renderer/index.js");Q=e=>s.render(e,"katex")}class V{constructor(s){this.content=s}toHTML=()=>G("text",this.content)}class X{constructor(s,e){const t=B.get(s);if(t.includes(".")){const[s,e]=t.split(".");this.tagName=s,this.className=e}else this.tagName=t;this.content=e,"math"===this.className&&"object"==typeof window&&(globalThis.__ContainsFormula__=!0)}toHTML(){if("math"===this.className&&"undefined"==typeof window){const s=G("img","",{src:"./"+Q(this.content)});return G("span",s,{class:"math"})}const s=void 0===this.className?null:{class:this.className};return G(this.tagName,J(this.content),s)}}class Z{constructor(s,e){this.content=s,this.address=e}toHTML(){const s=J(this.content);if(this.address.startsWith("http"))return G("a",s,{href:this.address,target:"_blank"});return G("a",s,{href:"#"+("static/"+this.address)})}}class Y{constructor(s,e){this.content=s,this.notation=e}toHTML(){const s=G("rp","("),e=G("rp",")"),t=G("rt",this.notation);return G("ruby",J(this.content).concat([s,t,e]),{"data-notation":this.notation})}}function J(s){const e=function(s){function e(){const e=s.charAt(0);return s=s.substring(1),e}function t(s){let e;return"["===s?e=Z:"{"===s&&(e=Y),e}const i=[];let a="",n="",l="",r=!1,g=!1;for(;s.length;){const h=e();if(B.has(h)){if(r){g?n+=h:a+=h;continue}if(g&&h!=l){n+=h;continue}const t=e();if(t!=h){g?n+=h:a+=h,s=t+s;continue}g?(i.push(new X(h,n)),n="",l=""):(i.push(new V(a)),a="",l=h),g=!g;continue}if(["[","{"].includes(h)&&!g&&!r){const n=h,l=F.get(n);i.push(new V(a)),a="";let r=n;const g=U(s,l,!0);if(null!=g){r+=s.slice(0,g.length+1),s=s.substr(g.length+1);const a=e();if(r+=a,"("===a){const e=U(s,")");if(null!=e){let a=t(n);s=s.substr(e.length+1),i.push(new a(g,e));continue}}}a+=r;continue}if("\\"===h){r=!r;continue}let o;r?(o="\\"+h,r=!1):o=h,g?n+=o:a+=o}return n.length&&i.push(new X(l,n)),a.length&&i.push(new V(a)),i}(s);let t=e.filter((s=>!(s instanceof V&&!s.content.length))).map((s=>s.toHTML()));return"object"!=typeof window&&s===t[0]?(s=>s.replaceAll("<","&lt;").replaceAll(">","&gt;"))(s):t}class K{constructor(s){const e=s.split(" "),t=e[0];let i=0;for(const s of t)"#"===s&&(i+=1);i>6&&(i=0);const a=e.slice(1).join(" ");this.tagName="h"+i,this.content=J(a)}toHTML(){const s=void 0===this.id?null:{id:this.id};return G(this.tagName,this.content,s)}static pattern=s=>s.match(/^(#+ )/)}class ss{tagName="p";constructor(s){this.content=s.trimStart()}toHTML(){const s=J(this.content);return G(this.tagName,s)}}class es{tagName="blockquote";children=[];constructor(s){this.children=s}toHTML(){const s=this.children.map((s=>s.toHTML()));return G(this.tagName,s)}static pattern=s=>">"===s||s.startsWith("> ")}class ts{toHTML=()=>G("hr");static pattern=s=>s.match(/(-\s*-\s*-)|(\*\s*\*\s*\*)/)&&!s.match(/[a-zA-Z0-9]/)}class is{children=[];constructor(s){this.isOrdered=Boolean(is.orderedPattern(s)),this.tagName=this.isOrdered?"ol":"ul",this.children=[is.getContent(s,this.isOrdered)]}push=s=>this.children.push(s);toHTML(){const s=[];for(const e of this.children)if("string"==typeof e){const t=J(e);s.push(G("li",t))}else s.push(e.toHTML());return G(this.tagName,s)}static unorderedPattern=s=>Boolean(s.match(/^([\s\t]*[+-]+ )/));static orderedPattern=s=>Boolean(s.match(/^([\s\t]*[0-9]+. )/));static isListPattern=s=>is.orderedPattern(s)||is.unorderedPattern(s);static getContent(s,e){return e?s.match(/(?<=^([\s\t]*[0-9]+. )).+$/g)[0]:s.match(/(?<=^([\s\t]*[+-]+ )).+$/g)[0]}}class as{headerCells=[""];bodyRows=[[""]];constructor(s,e){this.headerCells=s,this.bodyRows=e}#i=s=>G("th",s);#a=s=>G("td",J(s));#n=s=>G("tr",s.map(this.#i));#l=s=>G("tr",s.map(this.#a));toHTML(){const s=G("thead",this.#n(this.headerCells)),e=G("tbody",this.bodyRows.map(this.#l));return G("div",G("table",[s,e]),{class:"table"})}static pattern=s=>s.startsWith("| ")}class ns{source="";description="";constructor(s){s=s.substr(2),this.description=U(s,"]"),s=s.substr(this.description.length+2),this.source=U(s,")")}static containerGenerator(s){return G("div",s,{class:"media-container"})}static patternGenerator(s){return e=>e.startsWith(s+"[")&&e.endsWith(")")}static replaceContentGenerator(s,e){return`${e}<br>${G("a",n("从这里下载！","Download Here!"),{href:s})}`}static srcUrlResolver(s){let e;if(s.startsWith("http"))e=s;else{e=location.hash.slice(1).split("/").slice(0,-1).join("/")+"/"+s}return e}}class ls extends ns{static pattern=ns.patternGenerator("!");toHTML(){const s=G("img","",{src:ns.srcUrlResolver(this.source),alt:this.description,loading:"lazy",tabindex:0});return s.onclick=s=>window.open(s.target.src),s.onerror=s=>{const e=s.target;e.onclick=null,e.title=this.description,e.classList.add("load-error")},ns.containerGenerator(s)}}class rs extends ns{static pattern=ns.patternGenerator(":");toHTML(){const s=ns.srcUrlResolver(this.source),e=G("audio",ns.replaceContentGenerator(s,this.description),{src:s,controls:!0});return ns.containerGenerator(e)}}class gs extends ns{static pattern=ns.patternGenerator("?");toHTML(){const s=ns.srcUrlResolver(this.source),e=G("video",ns.replaceContentGenerator(s,this.description),{src:s,controls:"true"});return ns.containerGenerator(e)}}const hs=s=>ns.patternGenerator("@")(s)||s.startsWith("@@@");class os extends ns{toHTML(){const s=ns.srcUrlResolver(this.source),e=G("iframe",this.description,{src:s,title:this.description,sandbox:"allow-scripts",loading:"lazy"});return ns.containerGenerator(e)}}class cs{constructor(s,e){this.lang=e,this.content=s}append(s){this.content+=s}toHTML(){const s=["plaintext","text",""].includes(this.lang);let e,t;s||globalThis.__LanguageList__.add(this.lang),s?(t="nohighlight",e="PLAINTEXT"):(t=`language-${this.lang}`,e=this.lang.toUpperCase());const i=G("code",this.content,{class:t,tabindex:0});return G("pre",i,{class:"code-block","data-language":e})}static pattern=s=>s.startsWith("```")}class us{summary="";content="";constructor(s,e){this.summary=e,this.content=Is(s)}toHTML(){const s=G("summary",this.summary),e=G("details",s),t=G("div",G("div",this.content.map((s=>s.toHTML())),{class:"details-children"}),{class:"details-children-container"});return G("div",[e,t],{class:"details"})}static pattern=s=>s.startsWith(">>>")}class ps{content="";description="";constructor(s,e){this.content=s,this.description=e}toHTML(){return globalThis.__ContainsFormula__=!0,G("div",this.content,{class:"math",title:this.description})}static pattern=s=>s.startsWith("$$$")}class ds{static#r=s=>`<style>\nbody{transition: .3s .15s}\nbody.light{color:#333;background:#fff}\nbody.dark{color:#f7f7f7;background:#252525}</style>\n<script>\nconst rootEl = document.documentElement\nfunction postHeight() {\n    const parent = window.parent\n    const height = parseFloat(getComputedStyle(rootEl).height)\n    parent.postMessage({\n        height,\n        id: "${s}"\n    }, "*")\n}\nwindow.addEventListener("load", postHeight)\nwindow.addEventListener("message", e => {\nconst { fontSize, theme } = e.data\nif (fontSize) {\n    rootEl.style.fontSize = fontSize\n    postHeight()\n}\nif (theme) {\n    document.body.classList = theme\n}\n})\n<\/script>`;constructor(s,e){globalThis.__IframeCounter__+=1,this.id="iframe_"+globalThis.__IframeCounter__,this.description=e,this.content=s+ds.#r(this.id)}toHTML(){const s=G("iframe",this.description,{id:this.id,title:this.description,srcdoc:this.content,sandbox:"allow-scripts"});return ns.containerGenerator(s)}}class bs{constructor(s){const e=new Function("let option;"+s+";return option")();this.chartOptions=e,globalThis.__ChartTypeList__.add("echarts")}toHTML(){const s=G("div","",{class:"echarts-container"});return s.__ChartOptions__=this.chartOptions,s}}class ms{constructor(s){this.content=s,globalThis.__ChartTypeList__.add("flow-chart")}toHTML(){const s=G("div","",{class:"flowchart-container"});return s.__ChartContent__=this.content,s}}class js{constructor(s){this.content=s,globalThis.__ChartTypeList__.add("sequence-chart")}toHTML(){const s=G("div","",{class:"sequencechart-container"});return s.__ChartContent__=this.content,s}}class fs{constructor(s){this.content=new Function(`const tasks = [${s}]; return tasks`)(),globalThis.__ChartTypeList__.add("gantt-chart")}toHTML(){const s=G("div","",{class:"ganttchart-container"});return s.__ChartContent__=this.content,s}}class ws{constructor(s){this.content=s,globalThis.__ChartTypeList__.add("railroad-chart")}toHTML(){const s=G("div","",{class:"railroad-container"});return s.__ChartContent__=this.content,s}}class ys{constructor(s){this.content=s,globalThis.__ChartTypeList__.add("qrcode")}toHTML(){const s=G("div","",{class:"qrcode-container"});return s.__QRCodeContent__=this.content,s}}class _s{constructor(s){this.content=s}toHTML(){return G("span",this.content)}}class vs{static pattern=s=>s.startsWith("!!!");#g=null;constructor(s,e){switch(e){case"":case"echarts":this.#g=new bs(s);break;case"flow":case"flowchart":case"flow chart":case"flow-chart":this.#g=new ms(s);break;case"sequence":case"sequencechart":case"sequence char":case"sequence-chart":this.#g=new js(s);break;case"gantt":case"ganttchart":case"gantt chart":case"gantt-chart":this.#g=new fs(s);break;case"rail":case"railroad":case"railroadchart":case"railroad chart":case"railroad-chart":this.#g=new ws(s);break;case"qrcode":case"qr-code":case"qr code":this.#g=new ys(s);break;default:const t="Unknown chart type: "+e;console.error(t),this.#g=new _s(t)}}toHTML(){const s=this.#g.toHTML();return ns.containerGenerator(s)}}function Ls(s){let e=0,t=0;for(const i of s){if(i.match(/[^\s\t]/))break;"\t"!==i?(" "===i&&(t+=1),2===t&&(t=0,e+=1)):e+=1}return e}function xs(s,e){const t=Ls(s),i=new is(s);for(;e.length&&is.isListPattern(e[0]);){const s=e.shift(),a=Ls(s),n=is.orderedPattern(s);if(a>t)i.push(xs(s,e));else{if(a!==t||n!==i.isOrdered){e.unshift(s);break}i.push(is.getContent(s,n))}}return i}function Ts(s,e){let t=s.slice(2)+"\n";for(;e.length;){const s=e.shift();if(!es.pattern(s)){e.unshift(s);break}t+=s.slice(2)+"\n"}const i=Is(t);return new es(i)}function ks(s){return s.split("|").filter((s=>s.length>0)).map((s=>s.trim()))}function Cs(s,e){const t=s,i=[];for(;e.length;){const s=e.shift();if(!as.pattern(s)){e.unshift(s);break}i.push(s)}const a=ks(t),n=i.map(ks);return new as(a,n)}function Es(s,e){return function(t,i){const a=t.slice(3);let n="";for(;i.length;){const e=i.shift();if(e===s)break;n+=e+"\n"}return new e(n,a)}}const Ms=Es("```",cs),qs=Es("!!!",vs),Ss=Es(">>>",us),Hs=Es("$$$",ps);function As(s,e){const t=Es("@@@",ds);return s.startsWith("@@@")?t(s,e):new os(s)}function Is(s){const e=function(s){return-1!=s.indexOf("\r")?s.split("\r\n"):s.split("\n")}(s),t=[];for(;e.length;){const s=e.shift();s.length&&(K.pattern(s)?t.push(new K(s)):ts.pattern(s)?t.push(new ts):es.pattern(s)?t.push(Ts(s,e)):is.isListPattern(s)?t.push(xs(s,e)):as.pattern(s)?t.push(Cs(s,e)):ls.pattern(s)?t.push(new ls(s)):rs.pattern(s)?t.push(new rs(s)):gs.pattern(s)?t.push(new gs(s)):us.pattern(s)?t.push(Ss(s,e)):ps.pattern(s)?t.push(Hs(s,e)):cs.pattern(s)?t.push(Ms(s,e)):vs.pattern(s)?t.push(qs(s,e)):hs(s)?t.push(As(s,e)):t.push(new ss(s)))}return t}function Os(s){return function(e){"Enter"!==e.key&&" "!==e.key||s.click()}}function Rs(s){window.scroll({top:s,behavior:"smooth"})}function Ns(s,e){Rs(s.offsetTop+-e)}function Ps(){Rs(0)}const $s=()=>document.querySelectorAll("iframe[srcdoc]");function Ws(s){$s().forEach((e=>e.contentWindow.postMessage({fontSize:s},"*")))}function zs(){const s=document.body.classList.contains("dark")?"dark":"light";$s().forEach((e=>e.contentWindow.postMessage({theme:s},"*")))}const Ds=document.querySelector("article"),Gs=n("空文章","Empty Article");function Us(e,t){globalThis.__LanguageList__=new Set,globalThis.__ChartTypeList__=new Set,globalThis.__ContainsFormula__=!1,globalThis.__IframeCounter__=0;const i=Is(t);if(s.enableCatalog){const s=function(s){return s.filter((s=>s instanceof K)).map(((s,e)=>({id:s.id="headline-"+e,content:s.content.map((s=>s.cloneNode(!0))),level:s.tagName})))}(i);d.emit("article-rendered",s)}let a=i.map((s=>s.toHTML()));a.length||(a=el("h1",Gs)),e.innerHTML="",a.forEach((s=>e.appendChild(s))),async function(){const s=Array.from($s()).map((s=>new Promise(((e,t)=>s.onload=e))));await Promise.all(s)}().then(zs),e.style.display="block",e.querySelectorAll("[tabindex='0']").forEach((s=>{s.onkeydown=Os(s)})),Promise.all([o(globalThis.__LanguageList__),p(globalThis.__ContainsFormula__),z(globalThis.__ChartTypeList__)]).then((()=>{globalThis.__LanguageList__=null,globalThis.__ContainsFormula__=!1,globalThis.__ChartTypeList__=null;const s=sessionStorage.getItem("last-leave-page"),e=sessionStorage.getItem("last-leave-position")||0;sessionStorage.removeItem("last-leave-page"),sessionStorage.removeItem("last-leave-position"),window.scrollY>0||location.hash===s&&Rs(Number.parseInt(e))}))}function Bs(s){const e=new Date(s.timestamp),t=G("code",(new Intl.DateTimeFormat).format(e)),i=G("span",s.title,{class:"underline-target"});return G("li",[t,G("text",": "),i],{tabindex:0,class:"underline-through","data-target-blog":s.link})}function Fs(s){const e=G("span",s,{class:"underline-target"});return G("li",e,{class:"underline-through",tabindex:0})}d.on("catalog-toggle",(()=>{Ds.classList.toggle("with-catalog")})),d.on("catalog-closed",(()=>{Ds.classList.remove("with-catalog")}));const Qs=document.querySelector("main"),Vs=document.querySelector("article"),Xs=Qs.querySelector("#article-list"),Zs=Qs.querySelector("#directory-description"),Ys=Qs.querySelector("paging-view");function Js(s,e){const{current:t,total:i}=s;Ys.setPage(t,i),Zs.innerHTML="","directoryDescription"in s&&Us(Zs,s.directoryDescription),Xs.innerHTML="",s.content.map(e).forEach((s=>Xs.appendChild(s))),Xs.querySelectorAll("[tabindex='0']").forEach((s=>{s.onkeydown=Os(s)})),Vs.innerHTML="",Qs.style.display="block",Ps()}const Ks=document.querySelector("main"),se=document.querySelector("article"),ee="./.index/";async function te(s){if(!location.hash)return void ae.homepage();const i=location.hash.slice(1);if(Ks.classList.add("disabled"),ae.isIn.newestPage()){const s=ee+"newest_"+ne.current(),e=await t(s);if(!e)return;Js(e,Bs)}else if(ae.isIn.directory()){const s=i.split("/").slice(0,-1),e=ee+s.join("+")+"_"+ne.current(),a=await t(e);if(!a)return;Js(a,Fs)}else if(ae.isIn.article()){const s=await async function(s){return e&&e.abort(),e=new AbortController,await fetch(s,{signal:e.signal}).then((async s=>{if(200!=s.status)throw s.status;const t=await s.text();return e=null,t})).catch((e=>{if("number"!=typeof e)return console.error(e),null;switch(e){case 404:return"# 404 Not Found";case 500:return"# 500 Internal Server Error";case DOMException:console.error(e);break;default:return console.log("Markdown request error: "+s),console.error(e),"# Unexpected request error"}}))}("./"+i);if(!s)return;Ks.style.display="none",Us(se,s)}else ae.homepage();Ks.setAttribute("data-is-root","static/"===i),Ks.classList.remove("disabled");const a=s=>new URL(s).hash;s instanceof HashChangeEvent&&ae.isIn.directory(a(s.oldURL))&&ae.isIn.article(a(s.newURL))&&Ps()}window.addEventListener("hashchange",te),window.addEventListener("load",te);const ie="static/",ae={homepage(){location.hash=ie},open(s){location.hash+=s},jumpTo(s){location.hash=s},parent(){if(this.isIn.root()||this.isIn.newestPage())return ie;const s=location.hash.slice(1).split("/");if(this.isIn.directory())return s.slice(0,-2).join("/")+"/";if(this.isIn.article())return s.slice(0,-1).join("/")+"/";throw new Error("Unexpected hash: "+location.hash)},isIn:{root:()=>location.hash==="#"+ie,newestPage:()=>"#newest/"===location.hash,directory(s){const e=s||location.hash;return e.startsWith("#static")&&e.endsWith("/")},article(s){const e=s||location.hash;return e.startsWith("#static")&&e.endsWith(".md")}}};const ne=new class{#h=[1];current=()=>this.#h[this.length()-1];next=()=>this.#h[this.length()-1]+=1;prev=()=>this.#h[this.length()-1]-=1;jumpTo=s=>this.#h[this.length()-1]=Number(s);length=()=>this.#h.length;back(){this.#h.pop(),this.#h.length||this.#h.push(1)}open(){this.#h.push(1)}},le=s=>G("button",G("span",s,{class:"underline-target"}),{class:"icon-btn underline-side"});class re extends HTMLElement{#o={};constructor(){super(),this.#o.input=G("input","1",{type:"number",min:1,max:1}),this.#o.maxPage=G("span","1");const s=this.#o.prevBtn=le(n("上一页","Prev")),e=this.#o.nextBtn=le(n("下一页","Next"));s.id="prev-btn",s.classList.add("left"),e.id="next-btn",e.classList.add("right");const t=G("label",[this.#o.input,G("text","/"),this.#o.maxPage]);this.#c();for(const i of[s,t,e])this.appendChild(i)}#c(){this.#o.input.addEventListener("keydown",(s=>{if("Enter"!==s.key)return;const e=s.target.value;if(!/^\d+$/.test(e))return void(s.target.value=1);const t=Number(e);t>0&&t<=this.#o.input.max?(ne.jumpTo(t),te()):s.target.value=1})),this.#o.prevBtn.addEventListener("click",(()=>{ne.current()>0&&(ne.prev(),te())})),this.#o.nextBtn.addEventListener("click",(()=>{ne.current()<this.#o.input.max&&(ne.next(),te())}))}setPage(s,e){let t=!1,i=!1,a=!1;1===e?a=!0:(1===s&&(t=!0),s===e&&(i=!0)),this.#o.prevBtn.disabled=a||t,this.#o.nextBtn.disabled=a||i,this.#o.maxPage.textContent=e,this.#o.input.value=s,this.#o.input.max=e,this.classList.toggle("hidden",a)}}customElements.define("paging-view",re);const ge=document.querySelector("main"),he=ge.querySelector("#previous-dir li"),oe=ge.querySelector("#article-list");he.addEventListener("click",(()=>{ne.back(),ae.jumpTo(ae.parent())})),oe.addEventListener("click",(s=>{const e=s.target;e!==oe&&(e.getAttribute("data-target-blog")?(ne.open(),ae.jumpTo(e.getAttribute("data-target-blog"))):(e.innerText.endsWith("/")&&ne.open(),ae.open(e.innerText)))})),s.enableFab&&import("./chunks/fab.min.js"),s.enableCatalog&&import("./chunks/catalog.min.js");const ce=document.querySelector("#light-btn"),ue=document.querySelector("#dark-btn");ce.onkeydown=Os(ce),ue.onkeydown=Os(ue),window.addEventListener("popstate",(()=>{location.hash.endsWith("/")&&ne.back()})),window.addEventListener("beforeunload",(s=>{ae.isIn.article()&&(sessionStorage.setItem("last-leave-page",location.hash),sessionStorage.setItem("last-leave-position",window.scrollY))}));new MutationObserver(zs).observe(document.body,{attributes:!0,attributeFilter:["class"]}),window.addEventListener("message",(s=>{if("null"!=s.origin)return;const{id:e,height:t}=s.data;document.getElementById(e).style.height=t+"px"})),"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").catch((function(s){console.error("Registration failed with "+s)}));export{Ps as a,G as b,Ns as c,d as e,g as i,n as l,ae as p,Ws as s};
//# sourceMappingURL=index.min.js.map
