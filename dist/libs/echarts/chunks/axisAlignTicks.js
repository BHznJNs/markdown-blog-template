import{aR as e,dk as a,dl as t,ck as l,dm as i,dn as s,b3 as n}from"./core.js";var c=Math.log;function r(r,v,x){var g=e.prototype,f=g.getTicks.call(x),o=g.getTicks.call(x,!0),m=f.length-1,k=g.getInterval.call(x),u=a(r,v),d=u.extent,h=u.fixMin,p=u.fixMax;if("log"===r.type){var M=c(r.base);d=[c(d[0])/M,c(d[1])/M]}r.setExtent(d[0],d[1]),r.calcNiceExtent({splitNumber:m,fixMin:h,fixMax:p});var T=g.getExtent.call(r);h&&(d[0]=T[0]),p&&(d[1]=T[1]);var b=g.getInterval.call(r),E=d[0],F=d[1];if(h&&p)b=(F-E)/m;else if(h)for(F=d[0]+b*m;F<d[1]&&isFinite(F)&&isFinite(d[1]);)b=t(b),F=d[0]+b*m;else if(p)for(E=d[1]-b*m;E>d[0]&&isFinite(E)&&isFinite(d[0]);)b=t(b),E=d[1]-b*m;else{r.getTicks().length-1>m&&(b=t(b));var y=b*m;F=Math.ceil(d[1]/b)*b,(E=l(F-y))<0&&d[0]>=0?(E=0,F=l(y)):F>0&&d[1]<=0&&(F=0,E=-l(y))}var I=(f[0].value-o[0].value)/k,N=(f[m].value-o[m].value)/k;g.setExtent.call(r,E+b*I,F+b*N),g.setInterval.call(r,b),(I||N)&&g.setNiceExtent.call(r,E+b,F-b);var j=g.getTicks.call(r);j[1]&&(!i(b)||s(j[1].value)>s(b))&&n("The ticks may be not readable when set min: "+v.get("min")+", max: "+v.get("max")+" and alignTicks: true")}export{r as a};
