import{O as e,m as t,aQ as n,T as a}from"./index.js";function i(i,o){return{seriesType:i,plan:e(),reset:function(e){var i=e.getData(),s=e.coordinateSystem,r=e.pipelineContext,l=o||r.large;if(s){var u=t(s.dimensions,(function(e){return i.mapDimension(e)})).slice(0,2),g=u.length,m=i.getCalculationInfo("stackResultDimension");n(i,u[0])&&(u[0]=m),n(i,u[1])&&(u[1]=m);var d=i.getStore(),p=i.getDimensionIndex(u[0]),c=i.getDimensionIndex(u[1]);return g&&{progress:function(e,t){for(var n=e.end-e.start,i=l&&a(n*g),o=[],r=[],u=e.start,m=0;u<e.end;u++){var f=void 0;if(1===g){var v=d.get(p,u);f=s.dataToPoint(v,null,r)}else o[0]=d.get(p,u),o[1]=d.get(c,u),f=s.dataToPoint(o,null,r);l?(i[m++]=f[0],i[m++]=f[1]):t.setItemLayout(u,f.slice())}l&&t.setLayout("points",i)}}}}}}export{i as p};
