import{c as n,f as a,bI as r,bJ as t}from"./core.js";import{V as e}from"./VisualMapping.js";var i=a;function o(n){if(n)for(var a in n)if(n.hasOwnProperty(a))return!0}function u(a,r,t){var o={};return i(r,(function(r){var u,p=o[r]=((u=function(){}).prototype.__hidden=u.prototype,new u);i(a[r],(function(a,i){if(e.isValidType(i)){var o={type:i,visual:a};t&&t(o,r),p[i]=new e(o),"opacity"===i&&((o=n(o)).type="colorAlpha",p.__hidden.__alphaForOpacity=new e(o))}}))})),o}function p(r,t,e){var i;a(e,(function(n){t.hasOwnProperty(n)&&o(t[n])&&(i=!0)})),i&&a(e,(function(a){t.hasOwnProperty(a)&&o(t[a])?r[a]=n(t[a]):delete r[a]}))}function f(n,i,o,u,p,f){var l,s={};function c(n){return r(o,l,n)}function v(n,a){t(o,l,n,a)}function y(n,a){l=null==f?n:a;var r=o.getRawDataItem(l);if(!r||!1!==r.visualMap)for(var t=u.call(p,n),e=i[t],y=s[t],h=0,g=y.length;h<g;h++){var w=y[h];e[w]&&e[w].applyVisual(n,c,v)}}a(n,(function(n){var a=e.prepareVisualTypes(i[n]);s[n]=a})),null==f?o.each(y):o.each([f],y)}function l(n,i,o,u){var p={};return a(n,(function(n){var a=e.prepareVisualTypes(i[n]);p[n]=a})),{progress:function(n,a){var e,f;function l(n){return r(a,f,n)}function s(n,r){t(a,f,n,r)}null!=u&&(e=a.getDimensionIndex(u));for(var c=a.getStore();null!=(f=n.next());){var v=a.getRawDataItem(f);if(!v||!1!==v.visualMap)for(var y=null!=u?c.get(e,f):f,h=o(y),g=i[h],w=p[h],d=0,m=w.length;d<m;d++){var V=w[d];g[V]&&g[V].applyVisual(y,l,s)}}}}}export{f as a,u as c,l as i,p as r};
