const e="MarkdownBlog",t=["./dist/imgs/sun.svg","./dist/imgs/moon.svg","./dist/imgs/rss.svg","./dist/imgs/homepage.svg","./dist/imgs/broken-image.svg","./dist/imgs/favicon.png"],s=[/\/dist\/libs\//,"./dist/imgs/search.svg","./dist/imgs/fab-switch.svg","./dist/imgs/fab-catalog.svg","./dist/imgs/fab-back-to-top.svg","./dist/imgs/fab-back-to-parent.svg","./dist/imgs/fab-zoom-in.svg","./dist/imgs/fab-zoom-out.svg"];function n(){const e=location.href,t=e.indexOf("#");return-1!==t&&(e=e.substring(0,t)),e}function o(e,o){const i="necessary"===o?t:s,r=n();for(const t of i)if("string"==typeof t){if(new URL(t,r).href===e)return!0}else if(t instanceof RegExp){if(t.test(e))return!0}else console.error("Unexpected presetted optional resource path: "+t);return!1}self.addEventListener("install",(s=>{console.log("[Service Worker] Installing..."),s.waitUntil((async()=>{const s=await caches.open(e);console.log("[Service Worker] Caching all: app shell and content");for(const e of t)try{await s.add(e)}catch(t){console.log("[Service Worker] Cache error when requesting resource "+e),console.error(t)}})())})),self.addEventListener("activate",(t=>{t.waitUntil((async()=>{const t=await caches.open(e);(await t.keys()).filter((e=>!o(e.url,"option")&&!o(e.url,"necessary"))).forEach((e=>t.delete(e)))})()),console.log("[Service Worker] Activated")})),self.addEventListener("fetch",(t=>{const s=t.request.url;t.respondWith(async function(t){if(!function(e){const t=new URL(n()),s=new URL(e);return t.origin===s.origin}(t))return fetch(t,{mode:"no-cors"});const s=await caches.open(e),i=await s.match(t);if(i)return i;let r;try{r=await fetch(t,{mode:"no-cors"})}catch(e){return new Response("Network error happened: "+e,{status:408,headers:{"Content-Type":"text/plain"}})}return o(t,"option")&&s.put(t,r.clone()),r}(s))}));
//# sourceMappingURL=./dist/sw.js.map
